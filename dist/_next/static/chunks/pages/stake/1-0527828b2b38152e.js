(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[16],{29638:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stake/1",function(){return s(19755)}])},22284:function(e,t,s){"use strict";var a=s(85893),l=s(25575),r=s(41664),n=s.n(r),i=s(11163),c=function(){var e=(0,i.useRouter)().asPath.split("/").filter(function(e){return""!==e});return(0,a.jsx)("div",{className:"text-sm breadcrumbs pb-4 lg:pb-8",children:(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/",children:(0,a.jsx)("a",{className:"text-neutral",children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})})}),e.map(function(t,s){e.length;var l="/".concat(e.slice(0,s+1).join("/"));return(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:l,children:(0,a.jsx)("a",{children:t.charAt(0).toUpperCase()+t.slice(1)})})},s)})]})})};t.Z=c},84453:function(e,t,s){"use strict";s.d(t,{Uy:function(){return i},cC:function(){return n},rE:function(){return c}});var a=s(41799),l=s(85893),r=s(90890),n=function(e){var t=(0,r.$G)("common").t;return(0,l.jsxs)("div",{className:"form-control w-full",children:[(0,l.jsxs)("label",{className:"label text-neutral",children:[(0,l.jsx)("span",{className:"label-text text-neutral",children:e.title}),(0,l.jsx)("span",{className:"label-text-alt text-error",children:e.errorMessage})]}),(0,l.jsx)("input",(0,a.Z)({type:"number",placeholder:"1",className:"input input-bordered w-full text-neutral",disabled:e.disabled},e.register)),(0,l.jsxs)("label",{className:"label",children:[(0,l.jsx)("span",{className:"label-text-alt text-neutral",children:e.description}),(0,l.jsxs)("span",{className:"label-text-alt text-neutral",children:["".concat(Number(e.value).toLocaleString("en-US")),(0,l.jsx)("button",{type:"button",onClick:function(){return e.setValue(e.register.name,e.value)},className:"btn btn-xs glass text-neutral ml-2",disabled:e.disabled,children:t("form-field.max")})]})]})]})},i=function(e){var t=(0,r.$G)("common").t;return(0,l.jsxs)("div",{className:"form-control w-full",children:[(0,l.jsxs)("label",{className:"label text-neutral",children:[(0,l.jsx)("span",{className:"label-text text-neutral",children:t("form-field.wallet-address")}),(0,l.jsx)("span",{className:"label-text-alt text-error",children:e.errorMessage})]}),(0,l.jsx)("input",(0,a.Z)({type:"text",placeholder:"0x",className:"input input-bordered w-full text-neutral",disabled:e.disabled},e.register)),(0,l.jsx)("label",{className:"label",children:(0,l.jsx)("span",{className:"label-text-alt text-neutral",children:t("form-field.wallet-address-description")})})]})},c=function(e){var t=(0,r.$G)("common").t;return(0,l.jsxs)("div",{className:"form-control w-full",children:[(0,l.jsxs)("label",{className:"label text-neutral",children:[(0,l.jsx)("span",{className:"label-text text-neutral",children:e.title}),(0,l.jsx)("span",{className:"label-text-alt text-error",children:e.errorMessage})]}),(0,l.jsx)("input",(0,a.Z)({type:"number",placeholder:"1",className:"input input-bordered w-full text-neutral",disabled:e.disabled},e.register)),(0,l.jsxs)("label",{className:"label",children:[(0,l.jsx)("span",{className:"label-text-alt text-neutral",children:e.description}),(0,l.jsxs)("span",{className:"label-text-alt text-neutral",children:["".concat(Number(e.value).toLocaleString("en-US")),(0,l.jsx)("button",{type:"button",onClick:function(){return e.setValue(e.register.name,e.value)},className:"btn btn-xs glass text-neutral ml-2",disabled:e.disabled,children:t("form-field.max")})]})]})]})}},83845:function(e,t,s){"use strict";var a=s(85893),l=s(97384),r=s(2593),n=s(90890),i=function(e){var t,s,i=e.feeData,c=e.gasLimit,d=(0,n.$G)("common").t;return(0,a.jsx)("table",{className:"w-full",children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{className:"label-text-alt text-neutral",children:[(0,a.jsx)("td",{children:d("gas.gas").toUpperCase()}),(0,a.jsx)("td",{className:"text-right",children:(0,l.og)(Number((0,l.aY)(null!==(t=null==i?void 0:i.gasPrice)&&void 0!==t?t:r.O$.from(0))),0,"gwei")})]}),(0,a.jsxs)("tr",{className:"label-text-alt text-neutral",children:[(0,a.jsx)("td",{children:d("gas.transaction").toUpperCase()}),(0,a.jsx)("td",{className:"text-right",children:(0,l.og)(Number(null!=c?c:0),0,"gwei")})]}),(0,a.jsxs)("tr",{className:"label-text-alt text-neutral",children:[(0,a.jsx)("td",{children:d("gas.total").toUpperCase()}),(0,a.jsx)("td",{className:"text-right",children:(0,l.og)(Number((0,l.aY)(null!==(s=null==i?void 0:i.gasPrice.mul(null!=c?c:0))&&void 0!==s?s:r.O$.from(0))),0,"gwei")})]})]})})};t.Z=i},31e3:function(e,t,s){"use strict";var a=s(41799),l=s(99534),r=s(85893),n=s(86010),i=function(e){var t=e.className,s=(0,l.Z)(e,["className"]);return(0,r.jsx)("div",{className:(0,n.clsx)("card glass card-compact lg:card-normal",t),children:(0,r.jsx)("div",(0,a.Z)({className:"card-body text-neutral"},s))})};t.Z=i},9662:function(e,t,s){"use strict";var a=s(41799),l=s(99534),r=s(85893),n=s(86010),i=function(e){var t=e.className,s=(0,l.Z)(e,["className"]);return(0,r.jsx)("div",(0,a.Z)({className:(0,n.clsx)("mx-auto py-4 px-4 sm:px-6 lg:px-8 text-neutral",t)},s))};t.Z=i},19755:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return $}});var a=s(41799),l=s(69396),r=s(51351),n=s(85893),i=s(41664),c=s.n(i),d=s(9662),u=s(67976),o=s(84453),m=s(38264),x=s(67294),f=s(13378),h=s(87536),p=s(11163),j=s(79311),b=s(97384),N=s(61744),v=s(2593),g=s(32866),k=s(47533),w=s(86501),y=s(83845),S=s(86010),Z=s(74231),C=s(31e3),_=s(7423),D=s(66783),U=s(90890),E=s(22284),O=function(){var e,t,s,i,O,$,A=(0,U.$G)("common").t,P=(0,u.mA)().address,q=(0,u.LN)().chain,G=(0,p.useRouter)(),L=(0,x.useState)(!0),T=L[0],V=L[1],B=(0,x.useState)(!1),M=B[0],R=B[1],X=(0,x.useState)(b.Dr),Y=X[0],I=X[1],z=(0,x.useContext)(_.Z),F=z.xenBalance,J=z.userStake,Q=z.genesisTs,H=z.currentAPY,K=z.feeData,W=Z.Ry().shape({startStakeAmount:Z.Rx().required(A("form-field.amount-required")).max(Number(N.formatUnits(null!==(t=null==F?void 0:F.value)&&void 0!==t?t:v.O$.from(0))),A("form-field.amount-maximum",{maximumAmount:null==F?void 0:F.formatted})).positive(A("form-field.amount-positive")).typeError(A("form-field.amount-required")),startStakeDays:Z.Rx().required(A("form-field.days-required")).max(1e3,A("form-field.days-maximum",{numberOfDays:1e3})).positive(A("form-field.days-positive")).typeError(A("form-field.days-required"))}).required(),ee=(0,h.cI)({mode:"onChange",resolver:(0,k.X)(W)}),et=ee.register,es=ee.handleSubmit,ea=ee.watch,el=ee.formState,er=el.errors,en=el.isValid,ei=ee.setValue,ec=ea(),ed=(0,u.PJ)({addressOrName:(0,j.n)(q).addressOrName,contractInterface:D.Z,functionName:"stake",args:[N.parseUnits((Number(null==ec?void 0:ec.startStakeAmount)||0).toString(),null!==(s=null==F?void 0:F.decimals)&&void 0!==s?s:0),null!==(i=ec.startStakeDays)&&void 0!==i?i:0,],enabled:!T}).config,eu=(0,u.GG)((0,l.Z)((0,a.Z)({},ed),{onSuccess:function(e){R(!0),V(!0)}})),eo=eu.data,em=eu.write,ex=(0,u.BX)({hash:null==eo?void 0:eo.hash,onSuccess:function(e){(0,w.ZP)(A("toast.stake-successful")),G.push("/stake/2")}}),ex=null!==ex?ex:(0,r.Z)(TypeError("Cannot destructure undefined")),ef=function(e){null==em||em()};return(0,x.useEffect)(function(){if(ec.startStakeDays){var e;I(b.Dr+(null!==(e=ec.startStakeDays)&&void 0!==e?e:0)*86400)}!M&&P&&J&&0==J.term.toNumber()&&V(!1)},[P,M,J,ec.startStakeDays,en,ed]),(0,n.jsxs)(d.Z,{className:"max-w-2xl",children:[(0,n.jsx)(E.Z,{}),(0,n.jsxs)("div",{className:"flew flex-row space-y-8 ",children:[(0,n.jsxs)("ul",{className:"steps w-full",children:[(0,n.jsx)(c(),{href:"/stake/1",children:(0,n.jsx)("a",{className:"step step-neutral",children:A("stake.start")})}),(0,n.jsx)(c(),{href:"/stake/2",children:(0,n.jsx)("a",{className:"step",children:A("stake.staking")})}),(0,n.jsx)(c(),{href:"/stake/3",children:(0,n.jsx)("a",{className:"step",children:A("stake.end")})})]}),(0,n.jsx)(C.Z,{children:(0,n.jsx)("form",{onSubmit:es(ef),children:(0,n.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,n.jsx)("h2",{className:"card-title text-neutral",children:A("stake.start")}),(0,n.jsx)(o.cC,{title:A("form-field.amount").toUpperCase(),description:A("form-field.amount-description"),value:N.formatUnits(null!==(O=null==F?void 0:F.value)&&void 0!==O?O:v.O$.from(0),null!==($=null==F?void 0:F.decimals)&&void 0!==$?$:v.O$.from(0)),disabled:T,errorMessage:(0,n.jsx)(g.B,{errors:er,name:"startStakeAmount"}),register:et("startStakeAmount"),setValue:ei}),(0,n.jsx)(o.cC,{title:A("form-field.days").toUpperCase(),description:A("form-field.days-description"),decimals:0,value:1e3,disabled:T,errorMessage:(0,n.jsx)(g.B,{errors:er,name:"startStakeDays"}),register:et("startStakeDays"),setValue:ei}),(0,n.jsxs)("div",{className:"flex stats glass w-full text-neutral",children:[(0,n.jsx)(f.tZ,{title:A("card.yield"),value:(0,b.eQ)({xenBalance:ec.startStakeAmount,genesisTs:Q,term:ec.startStakeDays,apy:H}),decimals:0,description:"".concat(Number(null!=H?H:0).toFixed(2),"%")}),(0,n.jsx)(f.TU,{title:A("card.maturity"),dateTs:Y,isPast:!1})]}),(0,n.jsx)("div",{className:"alert shadow-lg glass",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:(0,n.jsx)(m.Z,{className:"w-8 h-8"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-bold",children:A("stake.terms")}),(0,n.jsx)("div",{className:"text-xs",children:A("stake.terms-details")})]})]})}),(0,n.jsx)("div",{className:"form-control w-full",children:(0,n.jsx)("button",{type:"submit",className:(0,S.clsx)("btn glass text-neutral",{loading:M}),disabled:T,children:A("stake.start")})}),(0,n.jsx)(y.Z,{feeData:K,gasLimit:null==ed?void 0:null===(e=ed.request)||void 0===e?void 0:e.gasLimit})]})})})]})]})},$=!0;t.default=O},25575:function(e,t,s){"use strict";var a=s(67294);let l=a.forwardRef(function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}))});t.Z=l}},function(e){e.O(0,[285,104,774,888,179],function(){return e(e.s=29638)}),_N_E=e.O()}]);